# 2D 닷지류 미니게임 개선 분석

## 1. 분석 방법 (Chain of Thoughts)
1. **현재 프로젝트 파악**: Unity C# 스크립트와 설정 파일을 확인해 플레이어 조작, 탄환 생성 방식을 정리했습니다.
2. **기획서 요구사항 정리**: 기획서에서 제시한 규칙, 시스템, 연출 요소를 목록화했습니다.
3. **기능 비교**: 현재 구현 상태와 기획 요구사항을 1:1로 비교해 충족 여부를 판별했습니다.
4. **업데이트 우선순위 설계**: 부족한 기능을 난이도·개발 난이도 기준으로 묶어 순차 로드맵을 제시했습니다.

---

## 2. 현재 프로젝트 핵심 기능 정리
| 구분 | 구현 상태 |
| --- | --- |
| 플레이어 이동 | `PlayerMove.cs`에서 방향키 입력(`Input.GetAxisRaw`)으로 2D 이동 처리 |
| 탄환 스폰 | `BulletSpawner.cs`에서 좌/우 랜덤 위치에서 탄환 생성, 직선 이동 |
| 탄환 이동 | `Bullet.cs`에서 지정된 방향으로 지속 이동, 생존 시간(`lifeTime`) 후 파괴 |
| 기타 UI/시스템 | 생명, 타이머, 랭킹, 아이템, 메시지 등은 미구현 |

### 간단 해석
* 현재는 **기본 이동 + 좌우 탄환 생성**만 갖춘 아주 초기 버전입니다.
* 난이도 상승, 생명 관리, 기록 저장 같은 핵심 루프 요소가 빠져 있습니다.

---

## 3. 기획서 요구사항 대비 구현 현황
| 기획 요소 | 요구 내용 | 현재 구현 | 판단 |
| --- | --- | --- | --- |
| 조작 | 방향키 이동 | 구현 (`PlayerMove.cs`) | ✅ |
| 생명 시스템 | 시작 생명 1, 하트 아이템 회복 | 미구현 | ❌ |
| 피격 처리 | 탄환 충돌 시 생명 감소 | 충돌 로직 미구현 | ❌ |
| 탄환 스폰 | 상/하/좌/우 등장, 시간에 따라 빈도·속도 증가 | 좌/우만 스폰, 속도 고정 | ⚠️ (부분 구현) |
| 아이템 | 하트 아이템 주기적 등장, 획득 시 생명 +1 | 아이템 스폰/처리 없음 | ❌ |
| 타이머 | 생존 시간 측정 및 표시 | 타이머 없음 | ❌ |
| 격려 메시지 | 10초마다 메시지+아이콘 표시 | 없음 | ❌ |
| 랭킹 시스템 | Top 5 기록 저장/표시 | 없음 | ❌ |
| 게임 오버/재시작 | 생명 0 시 게임오버, Enter로 즉시 리셋 | 상태 관리 없음 | ❌ |
| UI 구성 | Life/Time, 메시지, Game Over, 랭킹 표시 | UI 전체 미구현 | ❌ |
| 사운드/연출 | (기획서 범위에 명시X) | 없음 | - |

### 핵심 격차 요약
1. **게임 상태 관리** (생명, 타이머, 게임오버) 전반이 필요합니다.
2. **콘텐츠 루프** (아이템, 난이도 상승, 메시지, 랭킹)이 전부 빠져있습니다.
3. **탄막 다양성**과 **UI 표현** 강화가 필요합니다.

---

## 4. 단계별 업데이트 로드맵 제안
> 개발 난이도와 플레이 경험 개선 효과를 고려해 3단계로 나눴습니다.

### 단계 1: 필수 게임 루프 구축
1. **GameManager 도입**
   * 생명, 타이머, 게임오버 상태를 중앙에서 관리.
   * `PlayerMove`와 `Bullet` 충돌 시 GameManager에 피해 전달.
2. **UI 기본 구성**
   * Canvas에 Life(하트 아이콘), Time 텍스트, Game Over 패널, Restart 안내 추가.
3. **재시작 로직**
   * `Enter` 입력 시 씬 리로드 또는 상태 초기화.

### 단계 2: 난이도 & 보상 시스템 강화
1. **탄환 난이도 조절**
   * 스폰 주기(`spawnRate`)와 탄환 속도를 시간 경과에 따라 점진적으로 증가.
   * 상/하/좌/우 네 방향에서 랜덤 스폰하도록 개선.
2. **하트 아이템 추가**
   * 주기적 스폰, 일정 시간 후 사라짐, 획득 시 GameManager 생명 +1.
3. **10초 축하 메시지**
   * 타이머가 10초 단위에 도달할 때 UI 팝업 및 간단 아이콘 표시.

### 단계 3: 기록 시스템과 폴리싱
1. **로컬 랭킹 저장**
   * ScriptableObject 또는 JSON/PlayerPrefs로 Top 5 기록 유지.
   * 게임 오버 시 순위 갱신 후 UI에 표기.
2. **피드백 연출 강화**
   * 피격 시 반짝임/무적 시간, 아이템 획득 이펙트 등 추가.
3. **사운드 및 밸런스 조정**
   * 효과음, 배경음, 탄환 패턴 속도 조정으로 플레이 감각 향상.

---

## 5. 권장 개발 순서 및 주의사항
1. **충돌 처리부터**: `OnTriggerEnter2D`를 이용해 Player와 Bullet/Item을 판별하고, Tag 또는 Layer로 구분하면 관리가 쉽습니다.
2. **상태 관리 단일화**: GameManager에 싱글턴 패턴을 적용하면 여러 스크립트 간 데이터 공유가 간단해집니다.
3. **UI 갱신 분리**: Life와 Timer는 TextMeshPro와 같은 UI 요소를 사용하고, 값 변경 시 이벤트를 통해 갱신하면 코드 유지보수가 편해집니다.
4. **난이도 커브 테스트**: 스폰 속도 증가는 지수 형태보다는 선형/단계형이 초반 학습에 부담을 덜 줍니다.
5. **랭킹 저장**: PlayerPrefs는 간단하지만 치팅 위험이 있어, 프로토타입에서는 충분하나 향후 서버 연동을 염두에 두세요.

---

## 6. 다음 액션 체크리스트
- [ ] GameManager 스크립트 생성 및 생명/타이머 관리
- [ ] UI 캔버스에 Life, Time, Game Over, Restart 텍스트 배치
- [ ] Bullet과 Player 충돌 처리 & 무적 시간 여부 결정
- [ ] 탄환 스폰 패턴 상/하/좌/우로 확대
- [ ] 아이템 프리팹 및 스폰 로직 구현
- [ ] 10초 축하 메시지 UI 구현
- [ ] 랭킹 저장 및 표시 로직 작성

이 로드맵을 따라가면 기획서의 프로토타입 요구사항을 대부분 충족할 수 있습니다. 필요하시면 각 단계별 예시 코드나 에셋 구성도 도와드릴게요!
